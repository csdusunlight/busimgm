webpackJsonp([16],{eyTR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("P9l9"),o={data:function(){return{colConfigs:[{prop:"date",label:"日期"},{prop:"name",label:"姓名"},{prop:"integer",label:"金额"},{prop:"integer2",label:"标期"},{prop:"string",label:"备注"}],state:"0",options:[{value:"0",label:"全部"},{value:"1",label:"正在进行"},{value:"2",label:"已结项"}],tableData:[],currentPage:1,pageSize:10,total:0}},watch:{state:function(e,t){console.log(e),"0"===e?this.colConfigs=[{prop:"date",label:"日期"},{prop:"name",label:"姓名"},{prop:"integer",label:"金额"},{prop:"integer2",label:"标期"},{prop:"string",label:"备注"}]:"1"===e?this.colConfigs=[{prop:"date",label:"日期"},{prop:"name",label:"姓名"},{prop:"integer",label:"金额"},{prop:"string2",label:"测试"},{prop:"integer2",label:"标期"},{prop:"string",label:"备注"}]:"2"===e&&(this.colConfigs=[{prop:"date",label:"日期"},{prop:"name",label:"姓名"},{prop:"integer",label:"金额"},{prop:"integer2",label:"标期"},{prop:"qq_number",label:"测试2"},{prop:"string",label:"备注"}]),console.log(this.colConfigs)}},methods:{exportExel:function(){console.log("导出测试");var e='<form action="http://127.0.0.1:8000/Admin/export_investlog/" method="get" target="_self" id="postData_form">';e+='<input name="audit_state" type="hidden" value="'+this.state+'"/>',e+="</form>";var t=document.getElementById("myIFrame");t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close(),document.getElementById("myIFrame").contentWindow.document.getElementById("postData_form").submit()},handleCurrentChange:function(e){console.log(this),console.log(e);var t={page:e};this.getDataList(t)},sortChange:function(e){console.log(e)},getDataList:function(e){var t=this;Object(l.i)(e).then(function(e){200===e.status?(console.log(e),t.tableData=e.data.data,t.total=e.data.total,console.log(t.tableData)):(t.loading=!1,console.log("请求数据失败"))})}},created:function(){var e=this;this.getDataList({page:1}),Object(l.S)().then(function(t){200===t.status?console.log(t):(e.loading=!1,console.log("请求数据失败"))})}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"select"},[a("label",{staticClass:"label"},[e._v("项目状态")]),e._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExel}},[e._v("导出测试")])],1),e._v(" "),a("el-table",{ref:"table2",staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),"0"===e.state?a("el-table-column",{key:Math.random(),attrs:{prop:"name",label:"姓名2"}}):e._e(),e._v(" "),"0"===e.state||"1"===e.state?a("el-table-column",{key:Math.random(),attrs:{prop:"name",label:"姓名"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"integer",label:"金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"integer2",label:"标期"}}),e._v(" "),"2"===e.state?a("el-table-column",{key:Math.random(),attrs:{prop:"remark",label:"备注"}}):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"sort-change":e.sortChange}},e._l(e.colConfigs,function(e){var t=e.prop,l=e.label;return a("el-table-column",{key:t,attrs:{prop:t,label:l}})})),e._v(" "),a("div",{staticClass:"pagination",staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("iframe",{staticStyle:{display:"none"},attrs:{id:"myIFrame",scrolling:"yes",frameborder:"1"}})],1)},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(e){a("q161")},null,null);t.default=r.exports},q161:function(e,t){}});
//# sourceMappingURL=16.991630cc9ccc5a5f4603.js.map