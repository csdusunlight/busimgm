webpackJsonp([2],{JzRI:function(t,e){},hpQX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Z2ya"),o=a.n(n),l=a("P9l9"),i={data:function(){return{dataarr:[["Firefox",12345],["IE",0],["Chrome",0]],dataList:[],currentPage:1,loading:!0,pie_data_1:[],pie_data_2:[],pie_data_3:[],num_detail_1:[],num_detail_2:[],num_detail_3:[],projectLength:0}},created:function(){this.getDatalist()},mounted:function(){this.getProjectdata(),this.getProjectdata2()},methods:{getDatalist:function(){var t=this;Object(l.E)(this.currentPage).then(function(e){console.log(e),t.dataList=e.data,t.loading=!1}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){this.datalist=[],this.loading=!0,this.currentPage=t,this.getDatalist()},charts:function(t,e,a,n){o.a.chart(t,{title:{text:a},credits:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y}",style:{color:o.a.theme&&o.a.theme.contrastTextColor||"black"}}}},series:[{type:"pie",name:n,data:e}]})},getProjectdata:function(){var t=this;Object(l.u)({params:{page:1,pageSize:999,state:1}}).then(function(e){if(0===e.data.code){for(var a=e.data.results,n=0;n<a.length;n++)a[n].consume>=0?(t.pie_data_1.push([a[n].name,parseFloat(a[n].consume)]),t.num_detail_1+=parseFloat(a[n].consume)):(t.pie_data_2.push([a[n].name,parseFloat(a[n].consume)]),t.num_detail_2+=parseFloat(a[n].consume)),t.projectLength++;t.charts("collection",t.pie_data_1,"项目预估待收布图","预估待收"),t.charts("consume",t.pie_data_2,"项目预估待消耗分布","预估待消耗")}}).catch(function(t){console.log("error"),console.log(t)})},getProjectdata2:function(){var t=this,e=new Date,a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n={params:{page:1,pageSize:999,state:5,concluded_audit_date_0:e.getFullYear()+"-"+a+"-01"}};Object(l.u)(n).then(function(e){if(0===e.data.code){for(var a=e.data.results,n=0;n<a.length;n++)t.pie_data_3.push([a[n].name,parseFloat(a[n].settle)]),t.num_detail_3+=parseFloat(a[n].settle);t.charts("monthlyknot",t.pie_data_3,"当月结项项目分布","结算费用")}}).catch(function(t){console.log("error"),console.log(t)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectoverview"},[a("h1",{staticClass:"title"},[t._v("当前进行中项目 "+t._s(t.projectLength)+" 个")]),t._v(" "),a("div",{staticClass:"highcharts row_top"},[a("div",{ref:"collection",staticStyle:{width:"400px",height:"300px"},attrs:{id:"collection"}},[t._v("123456")]),t._v(" "),a("div",{staticStyle:{width:"400px",height:"300px"},attrs:{id:"consume"}}),t._v(" "),a("div",{staticStyle:{width:"400px",height:"300px"},attrs:{id:"monthlyknot"}})]),t._v(" "),a("h1",{staticClass:"title"},[t._v("每日项目数据")]),t._v(" "),a("el-row",{staticClass:"row_top row_bottom"},[a("div",{staticClass:"table-list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList.results,"header-align":"center"}},[a("el-table-column",{attrs:{label:"日期",prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"在线项目数",prop:"start_num"}}),t._v(" "),a("el-table-column",{attrs:{label:"结项项目数",prop:"finish_num"}}),t._v(" "),a("el-table-column",{attrs:{label:"投资人数",prop:"invest_count"}}),t._v(" "),a("el-table-column",{attrs:{label:"投资金额",prop:"invest_amount"}}),t._v(" "),a("el-table-column",{attrs:{label:"预估消耗费用",prop:"consume_amount"}}),t._v(" "),a("el-table-column",{attrs:{label:"返现人数",prop:"return_count"}}),t._v(" "),a("el-table-column",{attrs:{label:"返现投资金额",prop:"return_invest_amount"}}),t._v(" "),a("el-table-column",{attrs:{label:"返现费用",prop:"return_amount"}})],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":this.currentPage,layout:"prev, pager, next, total, jumper",total:this.dataList.recordCount},on:{"current-change":t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,r,!1,function(t){a("JzRI")},null,null);e.default=s.exports}});
//# sourceMappingURL=2.1bc7fc76b10c390fa46d.js.map