webpackJsonp([4],{ZsaC:function(t,e){},"qH/E":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("P9l9"),s=a("3lel"),n={data:function(){return{inputdate0:"",inputdate1:"",projectname:"",takeover:"",signingCp:"",settlement:"",examineData:"",examineAdopt:"",projectstate:"0",paccountFliter:s.d,settleOptions:[{value:"",label:"全部"},{value:"0",label:"预付款"},{value:"1",label:"后付款"}],proOptions:[{value:"0",label:"待审核"},{value:"1",label:"进行中"},{value:"2",label:"审核未通过"}],inputdate0_2:"",inputdate1_2:"",inputdate2_2:"",inputdate3_2:"",inputdate2:"",inputdate3:"",projectnum_2:"",projectname_2:"",takeover_2:"",signingCp_2:"",settlement_2:"",projectstate_2:"4",settleOptions_2:[{value:"",label:"全部"},{value:"0",label:"预付款"},{value:"1",label:"后付款"}],proOptions_2:[{value:"4",label:"结项中"},{value:"5",label:"已结项"},{value:"6",label:"结项失败"}],activeName:"first",dataList:"",dataList2:"",currentPage:1,currentPage2:1,loading:!1}},created:function(){this.getProjectData()},methods:{handleClick:function(t,e){console.log(t,e),this.dataList2||"second"!==this.activeName||this.getProjectData()},pageChange:function(t){this.loading=!0,this.currentPage=t,this.getProjectData()},pageChange2:function(t){this.loading=!0,this.currentPage2=t,this.getProjectData()},searchData:function(){console.log(this.searchKey),"first"===this.activeName?(this.currentPage=1,this.getProjectData()):"second"===this.activeName&&(this.currentPage2=1,this.getProjectData())},getProjectData:function(){var t=this,e=1,a="";"0"===this.projectstate?this.examineData=!1:this.examineData=!0,"2"===this.projectstate?this.examineAdopt=!0:this.examineAdopt=!1,"first"===this.activeName?(e=this.currentPage,a=this.searchKey):"second"===this.activeName&&(e=this.currentPage2,a=this.searchKey_2),Object(l.B)(e,a).then(function(e){console.log(e),"first"===t.activeName?t.dataList=e.data:"second"===t.activeName&&(t.dataList2=e.data),t.loading=!1,e.code}).catch(function(t){console.log("error"),console.log(t)})},comfirmProjectAdd:function(t){var e=this;console.log(t),this.$confirm("请确认是否审核通过该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.b)(t).then(function(t){console.log(t),0===t.data.code?(e.getProjectData(),e.$message({type:"success",message:"操作成功!"})):e.$message({type:"error",message:t.detail})})}).catch(function(){console.log("cancel")})},refuseProjectAdd:function(t){var e=this;console.log(t),this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"请输入拒绝原因"}).then(function(a){var s=a.value,n={reason:s};Object(l.c)(t,n).then(function(t){0===t.data.code?(e.getProjectData(),e.$message({type:"success",message:"已拒绝，原因： "+s})):e.$message({type:"error",message:t.detail})})}).catch(function(){console.log("cancel")})},comfirmProjectEnd:function(t){var e=this;console.log(t),this.$confirm("请确认是否审核通过该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.q)(t).then(function(t){e.getProjectData(),0===t.data.code?e.$message({type:"success",message:"操作成功!"}):e.$message({type:"error",message:t.detail})})}).catch(function(){console.log("cancel")})},refuseProjectEnd:function(t){var e=this;console.log(t),this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"请输入拒绝原因"}).then(function(a){var s=a.value,n={reason:s};Object(l.r)(t,n).then(function(t){0===t.data.code?(e.getProjectData(),e.$message({type:"success",message:"已拒绝，原因： "+s})):e.$message({type:"error",message:t.detail})})}).catch(function(){console.log("cancel")})}},watch:{settlement:function(){this.searchData()},projectstate:function(){this.searchData()},settlement_2:function(){this.searchData()},projectstate_2:function(){this.searchData()}},computed:{searchKey:function(){return{params:{lanched_apply_date_0:this.inputdate0,lanched_apply_date_1:this.inputdate1,lanched_audit_date_0:this.inputdate2,lanched_audit_date_1:this.inputdate3,name:this.projectname,contact:this.takeover,contract_company:this.signingCp,settleway:this.settlement,state:this.projectstate}}},searchKey_2:function(){return{params:{concluded_apply_date_0:this.inputdate0_2,concluded_apply_date_1:this.inputdate1_2,concluded_audit_date_0:this.inputdate2_2,concluded_audit_date_1:this.inputdate3_2,id:this.projectnum_2,name:this.projectname_2,contact:this.takeover_2,contract_company:this.signingCp_2,settleway:this.settlement_2,state:this.projectstate_2}}}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectAdmin"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"立项审核",name:"first"}},[a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"input_search"},[a("div",{staticClass:"search marginvi search_box"},[a("label",{staticClass:"labeltext"},[t._v("立项日期")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate0,callback:function(e){t.inputdate0=e},expression:"inputdate0"}}),t._v(" "),a("span",{staticClass:"line"},[t._v(" — ")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate1,callback:function(e){t.inputdate1=e},expression:"inputdate1"}})],1),t._v(" "),a("div",{staticClass:"search"},[a("label",{staticClass:"labeltext"},[t._v("项目名称")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.projectname,callback:function(e){t.projectname=e},expression:"projectname"}})],1),t._v(" "),a("div",{staticClass:"search"},[a("label",{staticClass:"labeltext"},[t._v("商务对接人")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.takeover,callback:function(e){t.takeover=e},expression:"takeover"}})],1),t._v(" "),a("div",{staticClass:"search marginvi"},[a("label",{staticClass:"labeltext"},[t._v("签约公司")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.signingCp,callback:function(e){t.signingCp=e},expression:"signingCp"}})],1)])])],1),t._v(" "),a("el-row",{staticClass:"row_top"},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"flex_default"},[a("div",{staticClass:"search marginvi search_box"},[a("label",{staticClass:"labeltext"},[t._v("审核日期")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate2,callback:function(e){t.inputdate2=e},expression:"inputdate2"}}),t._v(" "),a("span",{staticClass:"line"},[t._v(" — ")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate3,callback:function(e){t.inputdate3=e},expression:"inputdate3"}})],1),t._v(" "),a("div",{staticClass:"select margin_left"},[a("label",{staticClass:"label"},[t._v("结算方式")]),t._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:t.settlement,callback:function(e){t.settlement=e},expression:"settlement"}},t._l(t.settleOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"select margin_left"},[a("label",{staticClass:"label"},[t._v("项目状态")]),t._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:t.projectstate,callback:function(e){t.projectstate=e},expression:"projectstate"}},t._l(t.proOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"flexright"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.searchData}},[t._v("搜索")])],1)])],1)],1),t._v(" "),a("div",{staticClass:"table-list row_top row_bottom"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList.results}},[a("el-table-column",{attrs:{label:"项目编号",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"日期",prop:"lanched_apply_date"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"甲方公司名称",prop:"company"}}),t._v(" "),a("el-table-column",{attrs:{label:"平台名称",prop:"platname"}}),t._v(" "),a("el-table-column",{attrs:{label:"商务对接人",prop:"contact"}}),t._v(" "),a("el-table-column",{attrs:{label:"对公对私"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.paccountFliter[e.row.paccountype]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结算方式",prop:"settleway_des"}}),t._v(" "),a("el-table-column",{attrs:{label:"签约公司",prop:"contract_company"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算详情",prop:"settle_detail"}}),t._v(" "),a("el-table-column",{attrs:{label:"合作详情",prop:"pcoperatedetail"}}),t._v(" "),t.examineData?a("el-table-column",{key:Math.random(),attrs:{label:"审核人",prop:"audituser"}}):t._e(),t._v(" "),t.examineData?a("el-table-column",{key:Math.random(),attrs:{label:"审核时间",prop:"lanched_audit_date"}}):t._e(),t._v(" "),t.examineAdopt?a("el-table-column",{key:Math.random(),attrs:{label:"拒绝原因",prop:"lanched_refused_reason"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),"0"==t.projectstate?a("el-table-column",{key:Math.random(),attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation_button"},[a("div",{staticClass:"op_button_padding"},[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.comfirmProjectAdd(e.row.id)}}},[t._v("审核")])],1),t._v(" "),a("div",{staticClass:"op_button_padding"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.refuseProjectAdd(e.row.id)}}},[t._v("拒绝")])],1)])]}}])}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":t.currentPage,layout:"prev, pager, next, total, jumper",total:t.dataList.recordCount},on:{"current-change":t.pageChange}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"结项审核",name:"second"}},[a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"input_search"},[a("div",{staticClass:"search marginvi search_box"},[a("label",{staticClass:"labeltext"},[t._v("结项日期")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate0_2,callback:function(e){t.inputdate0_2=e},expression:"inputdate0_2"}}),t._v(" "),a("span",{staticClass:"line"},[t._v(" — ")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate1_2,callback:function(e){t.inputdate1_2=e},expression:"inputdate1_2"}})],1),t._v(" "),a("div",{staticClass:"search"},[a("label",{staticClass:"labeltext"},[t._v("项目名称")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.projectname_2,callback:function(e){t.projectname_2=e},expression:"projectname_2"}})],1),t._v(" "),a("div",{staticClass:"search"},[a("label",{staticClass:"labeltext"},[t._v("商务对接人")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.takeover_2,callback:function(e){t.takeover_2=e},expression:"takeover_2"}})],1),t._v(" "),a("div",{staticClass:"search marginvi"},[a("label",{staticClass:"labeltext"},[t._v("签约公司")]),t._v(" "),a("el-input",{attrs:{size:"medium"},model:{value:t.signingCp_2,callback:function(e){t.signingCp_2=e},expression:"signingCp_2"}})],1)])])],1),t._v(" "),a("el-row",{staticClass:"row_top"},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"flex_default"},[a("div",{staticClass:"search marginvi search_box"},[a("label",{staticClass:"labeltext"},[t._v("审核日期")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate2_2,callback:function(e){t.inputdate2_2=e},expression:"inputdate2_2"}}),t._v(" "),a("span",{staticClass:"line"},[t._v(" — ")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"medium",type:"date",placeholder:"选择日期"},model:{value:t.inputdate3_2,callback:function(e){t.inputdate3_2=e},expression:"inputdate3_2"}})],1),t._v(" "),a("div",{staticClass:"select margin_left"},[a("label",{staticClass:"label"},[t._v("结算方式")]),t._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:t.settlement_2,callback:function(e){t.settlement_2=e},expression:"settlement_2"}},t._l(t.settleOptions_2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"select margin_left"},[a("label",{staticClass:"label"},[t._v("项目状态")]),t._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:t.projectstate_2,callback:function(e){t.projectstate_2=e},expression:"projectstate_2"}},t._l(t.proOptions_2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"flexright"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.searchData}},[t._v("搜索")])],1)])],1)],1),t._v(" "),a("div",{staticClass:"table-list row_top row_bottom"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList2.results}},[a("el-table-column",{attrs:{label:"项目编号",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"日期",prop:"lanched_apply_date"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"甲方公司名称",prop:"company"}}),t._v(" "),a("el-table-column",{attrs:{label:"平台名称",prop:"platname"}}),t._v(" "),a("el-table-column",{attrs:{label:"商务对接人",prop:"contact"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算金额",prop:"settle"}}),t._v(" "),a("el-table-column",{attrs:{label:"结项原因",prop:"psettlereason"}}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),"4"==t.projectstate_2?a("el-table-column",{key:Math.random(),attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation_button"},[a("div",{staticClass:"op_button_padding"},[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.comfirmProjectEnd(e.row.id)}}},[t._v("审核")])],1),t._v(" "),a("div",{staticClass:"op_button_padding"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.refuseProjectEnd(e.row.id)}}},[t._v("拒绝")])],1)])]}}])}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":t.currentPage2,layout:"prev, pager, next, total, jumper",total:t.dataList2.recordCount},on:{"current-change":t.pageChange2}})],1)])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("ZsaC")},null,null);e.default=o.exports}});
//# sourceMappingURL=4.1e352ee86d6a91a724d3.js.map